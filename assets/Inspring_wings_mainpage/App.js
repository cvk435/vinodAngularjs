/********************Module Decleration ****************/
var app=angular.module("InspiringWings",["ui.router",'ngMessages','ngStorage','720kb.datepicker']);
/********************App Run ****************/
app.run(function($rootScope) {
     $rootScope.memebers=true;
     $rootScope.session = '';
});
/********************ui Routing ****************/
app.config(['$stateProvider','$urlRouterProvider','$locationProvider',function($stateProvider,$urlRouterProvider,$locationProvider){
$urlRouterProvider.otherwise('/Home');
var HomeState={ name:'Home',url:'/Home',views: { 'Home':{ templateUrl:'Pages/Home.html'}} }
var EngineeringState={ name:'Engineering',url:'/Engineering',views: { 'Engineering':{templateUrl:'Pages/Engineering.html'}} }
var Wings_opportunitesState={ name:'wings_opportunites',url:'/wings_opportunites',  views: { 'wings_opportunites':{templateUrl:'Pages/Wings_Opportunites.html',controller:"Main_opportunitesCntrl"}} }
var Wings_StorysState={ name:'wings_storys',url:'/wings_storys',views: { 'wings_storys':{templateUrl:'Pages/storyssite.html',controller:"storycntrl"}} }
var SupportWingsState={ name:'supportWings',url:'/supportWings',views: {'supportWings':{templateUrl:'Pages/supportWings.html',controller :"supportCntrl"}} }
var ReceiveWingsState={ name:'ReceiveWings',url:'/ReceiveWings',views: {'ReceiveWings':{templateUrl:'Pages/ReceiveWings.html',controller :"reciverCntrl"}} }
var EventCalendarState={ name:'EventCalendar',url:'/EventCalendar',views: {'EventCalendar':{templateUrl:'Pages/EventCalendar.html',controller :"Events"}} }
var IncubationCentersState={ name:'IncubationCenters',url:'/IncubationCenters', views: {'IncubationCenters':{templateUrl:'Pages/IncubationCenters.html',controller :"Main_IncubationsCntrl"}} }
var AboutState={ name:'About',url:'/About',views: {'About':{templateUrl:'Pages/About.html',controller :"aboutCntrl"}} }
var SignUpState={ name:'SignUp',url:'/SignUp',views: {'SignUp':{templateUrl:'Pages/SignUp.html', controller : "signUp"}} }
var LoginState={ name:'Login',url:'/Login',views: {'Login':{templateUrl:'Pages/Login.html', controller : "loginCntrl"}} }
var myProfileState={ name:'myProfile',url:'/myProfile',views: {'myProfile':{ templateUrl:'inspiringwings_dashboard/myProfile.html', controller : "myProfileCntrl"}} }
var ForgotPasswordState={ name:'ForgotPassword',url:'/ForgotPassword',views: {'ForgotPassword':{ templateUrl:'Pages/ForgotPassword.html', controller : "forgotpassCntrl"}} }
var DashboardState={ name:'Dashboard',url:'/Dashboard',views: {'Dashboard':{templateUrl:'inspiringwings_dashboard/inspiring_dashboard.html', controller : "dashboardcntrl"}} }
var OpportunitiesState={ name:'Opportunities',url:'/Opportunities',views: {'Opportunities':{ templateUrl:'inspiringwings_dashboard/Opportunity.html',controller : "OpportunitiesCntrl"}} }
var OpportunityTypeState={ name:'OpportunityType',url:'/OpportunityType',views: {'OpportunityType':{templateUrl:'inspiringwings_dashboard/Opportunity-type.html', controller : "OpportTypeCntrl"}} }
var StorysTypesState={ name:'StorysTypes',url:'/StorysTypes',views:{'StorysTypes': {  templateUrl:'inspiringwings_dashboard/Story-Types.html',controller : "StorysTypesCntrl"}} }
var StoriesState={ name:'Stories',url:'/Stories', views: {'Stories':{  templateUrl:'inspiringwings_dashboard/Stories.html', controller : "StoriesCntrl"}} }
var EventsState={ name:'Events',url:'/Events',views: {'Events':{  templateUrl:'inspiringwings_dashboard/Events.html', controller : "EventsCntrl"}} }
var UsersState={ name:'Users',url:'/Users', views: {'Users':{ templateUrl:'inspiringwings_dashboard/Users.html',controller : "UsersCntrl"}} }
var testimonialsState={ name:'testimonials',url:'/testimonials',  views: {'testimonials':{ templateUrl:'inspiringwings_dashboard/Testimonials.html',controller : "TestimonialsCntrl"}} }
var view_all_requestsState={ name:'view_all_requests',url:'/view_all_requests', views: {'view_all_requests':{ templateUrl:'inspiringwings_dashboard/View-All-Requets.html',controller : "viewAllReqCntrl"}} }
var View_Pending_RequestsState={ name:'View_Pending_Requests',url:'/View_Pending_Requests',views: {'View_Pending_Requests':{ templateUrl:'inspiringwings_dashboard/View-Pending-Requets.html',controller : "viewPendingReqCntrl"}} }
var Closed_RequestsState={ name:'Closed_Requests',url:'/Closed_Requests',  views: {'Closed_Requests':{ templateUrl:'inspiringwings_dashboard/Closed-Requets.html',controller : "closedReqCntrl"}} }
var Seeking_For_HelpState={ name:'Seeking_For_Help',url:'/Seeking_For_Help',  views: {'Seeking_For_Help':{ templateUrl:'inspiringwings_dashboard/Seeking-For-Help.html',controller : "seekingforHelpCntrl"}} }
var View_My_RequetsState={ name:'View_My_Requets',url:'/View_My_Requets', views: {'View_My_Requets':{ templateUrl:'inspiringwings_dashboard/View-My-Request.html',controller : "viewMyReqCntrl"}} }
var changePasswordState={ name:'changePassword',url:'/changePassword',    views: {'changePassword':{ templateUrl:'inspiringwings_dashboard/changePassword.html',controller : "changePasswordCntrl"}} }
var IncubationCenterState={ name:'IncubationCenter',url:'/IncubationCenter',   views: {'IncubationCenter':{ templateUrl:'inspiringwings_dashboard/IncubationCenters.html',controller : "incubationCenterCntrl"}} }
var IncubationCenterCategorysState={ name:'IncubationCenterCategorys',url:'/IncubationCenterCategorys',    views: {'IncubationCenterCategorys':{ templateUrl:'inspiringwings_dashboard/IncubationTypes.html',controller : "incubationCenterCategoryCntrl"}} }

$stateProvider.state(HomeState);
$stateProvider.state(EngineeringState);
$stateProvider.state(Wings_opportunitesState);
$stateProvider.state(Wings_StorysState);
$stateProvider.state(SupportWingsState);
$stateProvider.state(ReceiveWingsState);
$stateProvider.state(EventCalendarState);
$stateProvider.state(IncubationCentersState);
$stateProvider.state(AboutState);
$stateProvider.state(SignUpState);
$stateProvider.state(LoginState);
$stateProvider.state(myProfileState);
$stateProvider.state(ForgotPasswordState);
$stateProvider.state(DashboardState);
$stateProvider.state(OpportunitiesState);
$stateProvider.state(OpportunityTypeState);
$stateProvider.state(StorysTypesState);
$stateProvider.state(StoriesState);
$stateProvider.state(EventsState);
$stateProvider.state(UsersState);
$stateProvider.state(testimonialsState);
$stateProvider.state(view_all_requestsState);
$stateProvider.state(View_Pending_RequestsState);
$stateProvider.state(Closed_RequestsState);
$stateProvider.state(Seeking_For_HelpState);
$stateProvider.state(View_My_RequetsState);
$stateProvider.state(changePasswordState);
$stateProvider.state(IncubationCenterState);
$stateProvider.state(IncubationCenterCategorysState);
$locationProvider.html5Mode(true).hashPrefix('!');
}]);
app.controller("Events",["$rootScope","$scope","$localStorage","localData","preService","PaginationService",function(e,t,n,a,r,s){function o(){t.setPage(1)}var v={};t.filter=!1,t.pager={},t.pager1={},t.pageSize=6,r.Eventget(v).then(function(e){t.Events=e;var n=t.Events.length;for(i=0;i<n;i++)t.Events[i].event_date=t.Events[i].event_date.slice(0,10);o(),t.convertToDate=function(e){var t=new Date(e);return t.setDate(t.getDate()),t}},function(){window.alert("err")}),t.setPage=function(e){1>e||e>t.pager.totalPages||(t.pager=s.pagination(t.Events.length,e,t.pageSize),t.items=t.Events.slice(t.pager.startIndex,t.pager.endIndex+1),t.length=t.items.length,t.length>0?t.len=!0:(t.len=!1,t.pager.totalPages=2),t.loading=!1)},t.search=function(e,n){var a=new Array;r.Eventget(v).then(function(r){t.Events=r;var s=t.Events.length;for(i=0;i<s;i++){t.Events[i].event_date=t.Events[i].event_date.slice(0,10);var v=moment(t.Events[i].event_date),g=moment(e),c=moment(n);v>=g&&c>=v&&a.push(t.Events[i])}t.Events=a,o()},function(){window.alert("err")})},t.showchanges=function(e){t.items[e].is_active?t.items[e].is_active=!1:t.items[e].is_active=!0}}]);
app.controller("forgotpassCntrl",["$rootScope","$scope","$state","preService","$timeout",function(e,o,t,s,n){e.memebers=!1,o.forgotdata={},o.homepage=function(){e.memebers=!0,t.go("Home")},o.login=function(){e.memebers=!1,t.go("Login")},o.onSubmit=function(e){o.message="",o.forgotpassword.$valid&&s.forgotPassword(e).then(function(e){1==e.status?(o.status=e.status,o.message=e.message,n(function(){t.go("Login")},2e3)):o.message=e.message},function(){window.alert("err")})}}]);
app.factory("httpService",["$http","$q","$log",function(e,t){return{test:function(){var e=5;return e},httpRequest:function(r,n,s,c){var o=t.defer();return"P"==n&&e.post(r,s,{headers:c}).success(function(e){o.resolve(e)}).error(function(e){o.reject(e)}),"G"==n&&e.get(r,s,{headers:c}).success(function(e){o.resolve(e.data.message)}).error(function(e){o.reject(e)}),o.promise}}}]);
app.controller("Main_IncubationsCntrl",["$rootScope","$scope","$localStorage","localData","preService","PaginationService",function(e,n,t,a,c){var i={is_active:"1"};n.pager={},n.pageSize=6,e.selectedname="",n.convertToDate=function(e){var n=new Date(e);return n.setDate(n.getDate()),n},c.getIncubationsTypes(i).then(function(e){n.IncubationsTypes=e},function(){window.alert("err")}),n.selectedIncubationtype=function(n){e.selectedname=n.incubation_center_category_name,e.selectedid=n.incubation_center_category_id},c.getIncubations(i).then(function(e){n.Incubations=e},function(){window.alert("err")}),n.showchanges=function(e){n.Incubations[e].is_active?n.Incubations[e].is_active=!1:n.Incubations[e].is_active=!0}}]);
app.controller("loginCntrl",["$rootScope","$scope","$state","$http","httpService","$localStorage","localData","preService",function(e,t,o,s,a,n,r,i){t.data={},e.memebers=!1,t.submitted=!0,t.submitForm=function(){if(t.registrationForm.$valid){var s=t.data;i.login(s).then(function(s){if(1==s.status){t.status=s.status;var a=s;r.set(a),e.session=s.status;var n=s;e.username=n.response_info[0].first_name,e.userType=n.response_info[0].role_id,localStorage.setItem("emailid",n.response_info[0].email_id),localStorage.setItem("userDetails",JSON.stringify(n.response_info[0])),o.go("Dashboard")}else t.status="",t.message="Invalid Login Credentials"},function(){window.alert("err")})}},t.homepage=function(){e.memebers=!0,o.go("Home")},t.signUp=function(){e.memebers=!1,o.go("SignUp")},t.forgotPassword=function(){e.memebers=!1,o.go("ForgotPassword")}}]),app.service("localData",["$localStorage",function(e){function t(t){e.savedData=t}function o(){return e.savedData}return{set:t,get:o}}]);
app.controller("logoutCntrl",["$rootScope","$scope","$state","$localStorage","localData",function(o,e,t,l){e.logout11=function(){l.$reset(),o.session="",o.memebers=!0,t.go("Home")}}]);
app.controller("Main_opportunitesCntrl",["$rootScope","$scope","$localStorage","localData","preService","PaginationService","$parse",function(e,t,o,n,i){var r={is_active:"1"};t.pager={},t.pageSize=6,e.selectedname="",t.convertToDate=function(e){var t=new Date(e);return t.setDate(t.getDate()),t},i.getAllOpp_categories(r).then(function(e){t.opportunitiestypes=e},function(){window.alert("err")}),t.selectedopportunity=function(t){e.selectedid=t.opportunity_category_id,e.selectedname=t.opportunity_category_name},i.allOpportunities(r).then(function(e){t.persons=["#b2ebf2","#f4b8ce","#bddaf9","#ffccbc","#c1e1a3","#d0bfe7","#d7ccc8"],t.response_opportunities=e},function(){window.alert("err")}),t.showchanges=function(e){t.response_opportunities[e].is_active?t.response_opportunities[e].is_active=!1:t.response_opportunities[e].is_active=!0}}]);
app.factory("PaginationService",function(){return{pagination:function(t,a,e){var n,r,a=a||1,e=e||10,i=Math.ceil(t/e);5>=i?(n=1,r=i):2>=a?(n=1,r=5):a+2>=i?(n=i-4,r=i):(n=a-2,r=a+2);var g=(a-1)*e,o=Math.min(g+e-1,t-1),c=_.range(n,r+1);return{totalItems:t,currentPage:a,pageSize:e,totalPages:i,startPage:n,endPage:r,startIndex:g,endIndex:o,pages:c}},test1:function(){return 22}}});
app.service("preService",["$http","httpService",function(t,e){this.register=function(t){var i="http://devrabbit.com/inspiring_wings/web_services/user_register.php",s={"Auth-Key":"55a2bc0181d79fd2db84d5e147698dc7"};return e.httpRequest(i,"P",t,s)},this.edituser=function(t){var i="http://devrabbit.com/inspiring_wings/web_services/users_action.php",s={"Auth-Key":"55a2bc0181d79fd2db84d5e147698dc7"};return e.httpRequest(i,"P",t,s)},this.login=function(t){var i="http://devrabbit.com/inspiring_wings/web_services/user_login.php",s={"Auth-Key":"55a2bc0181d79fd2db84d5e147698dc7"};return e.httpRequest(i,"P",t,s)},this.Eventget=function(t){var i="http://devrabbit.com/inspiring_wings/web_services/events.php",s={"Auth-Key":"55a2bc0181d79fd2db84d5e147698dc7"};return e.httpRequest(i,"P",t,s)},this.Eventinsert=function(t){var i="http://devrabbit.com/inspiring_wings/web_services/events_action.php",s={"Auth-Key":"55a2bc0181d79fd2db84d5e147698dc7"};return e.httpRequest(i,"P",t,s)},this.getStories=function(t){var i="http://devrabbit.com/inspiring_wings/web_services/stories.php",s={"Auth-Key":"55a2bc0181d79fd2db84d5e147698dc7"};return e.httpRequest(i,"P",t,s)},this.insertStory=function(t){var i="http://devrabbit.com/inspiring_wings/web_services/stories_action.php",s={"Auth-Key":"55a2bc0181d79fd2db84d5e147698dc7"};return e.httpRequest(i,"P",t,s)},this.allOpportunities=function(t){var i="http://devrabbit.com/inspiring_wings/web_services/opportunities.php",s={"Auth-Key":"55a2bc0181d79fd2db84d5e147698dc7"};return e.httpRequest(i,"P",t,s)},this.addORUpdateOpp=function(t){var i="http://devrabbit.com/inspiring_wings/web_services/opportunities_action.php",s={"Auth-Key":"55a2bc0181d79fd2db84d5e147698dc7"};return e.httpRequest(i,"P",t,s)},this.getAllOpp_categories=function(t){var i="http://devrabbit.com/inspiring_wings/web_services/opportunity_categories.php",s={"Auth-Key":"55a2bc0181d79fd2db84d5e147698dc7"};return e.httpRequest(i,"P",t,s)},this.addNewOpp_categories=function(t){var i="http://devrabbit.com/inspiring_wings/web_services/opportunity_categories_action.php",s={"Auth-Key":"55a2bc0181d79fd2db84d5e147698dc7"};return e.httpRequest(i,"P",t,s)},this.getStoryType=function(t){var i="http://devrabbit.com/inspiring_wings/web_services/story_categories.php",s={"Auth-Key":"55a2bc0181d79fd2db84d5e147698dc7"};return e.httpRequest(i,"P",t,s)},this.insertStoryType=function(t){var i="http://devrabbit.com/inspiring_wings/web_services/story_categories_action.php",s={"Auth-Key":"55a2bc0181d79fd2db84d5e147698dc7"};return e.httpRequest(i,"P",t,s)},this.getUsers=function(t){var i="http://devrabbit.com/inspiring_wings/web_services/users.php",s={"Auth-Key":"55a2bc0181d79fd2db84d5e147698dc7"};return e.httpRequest(i,"P",t,s)},this.addOrUp_Users=function(t){var i="http://devrabbit.com/inspiring_wings/web_services/users_action.php",s={"Auth-Key":"55a2bc0181d79fd2db84d5e147698dc7"};return e.httpRequest(i,"P",t,s)},this.getTestimonials=function(t){var i="http://devrabbit.com/inspiring_wings/web_services/testimonials.php",s={"Auth-Key":"55a2bc0181d79fd2db84d5e147698dc7"};return e.httpRequest(i,"P",t,s)},this.addOrUp_Testimonials=function(t){var i="http://devrabbit.com/inspiring_wings/web_services/testimonials_action.php",s={"Auth-Key":"55a2bc0181d79fd2db84d5e147698dc7"};return e.httpRequest(i,"P",t,s)},this.allRequest=function(t){var i="http://devrabbit.com/inspiring_wings/web_services/requests.php",s={"Auth-Key":"55a2bc0181d79fd2db84d5e147698dc7"};return e.httpRequest(i,"P",t,s)},this.addOrUp_Request=function(t){var i="http://devrabbit.com/inspiring_wings/web_services/requests_action.php",s={"Auth-Key":"55a2bc0181d79fd2db84d5e147698dc7"};return e.httpRequest(i,"P",t,s)},this.getQuotes=function(t){var i="http://devrabbit.com/inspiring_wings/web_services/quotes.php",s={"Auth-Key":"55a2bc0181d79fd2db84d5e147698dc7"};return e.httpRequest(i,"P",t,s)},this.addtakeupproblem=function(t){var i="http://devrabbit.com/inspiring_wings/web_services/request_takeup_action.php",s={"Auth-Key":"55a2bc0181d79fd2db84d5e147698dc7"};return e.httpRequest(i,"P",t,s)},this.takeupcomments=function(t){var i="http://devrabbit.com/inspiring_wings/web_services/takeup_comments.php",s={"Auth-Key":"55a2bc0181d79fd2db84d5e147698dc7"};return e.httpRequest(i,"P",t,s)},this.getIncubations=function(t){var i="http://devrabbit.com/inspiring_wings/web_services/incubation_centers.php",s={"Auth-Key":"55a2bc0181d79fd2db84d5e147698dc7"};return e.httpRequest(i,"P",t,s)},this.addIncubations=function(t){var i="http://devrabbit.com/inspiring_wings/web_services/incubation_centers_action.php",s={"Auth-Key":"55a2bc0181d79fd2db84d5e147698dc7"};return e.httpRequest(i,"P",t,s)},this.getIncubationsTypes=function(t){var i="http://devrabbit.com/inspiring_wings/web_services/incubation_categories.php",s={"Auth-Key":"55a2bc0181d79fd2db84d5e147698dc7"};return e.httpRequest(i,"P",t,s)},this.addIncubationsTypes=function(t){var i="http://devrabbit.com/inspiring_wings/web_services/incubation_categories_action.php",s={"Auth-Key":"55a2bc0181d79fd2db84d5e147698dc7"};return e.httpRequest(i,"P",t,s)},this.changePassword=function(t){var i="http://devrabbit.com/inspiring_wings/web_services/change_password_action.php",s={"Auth-Key":"55a2bc0181d79fd2db84d5e147698dc7"};return e.httpRequest(i,"P",t,s)},this.forgotPassword=function(t){var i="http://devrabbit.com/inspiring_wings/web_services/forgot_password.php",s={"Auth-Key":"55a2bc0181d79fd2db84d5e147698dc7"};return e.httpRequest(i,"P",t,s)}}]);
app.controller("signUp",["$rootScope","$scope","$state","$http","httpService","preService",function(e,s,t,i,n,r){e.memebers=!1,s.register={},s.homepage=function(){e.memebers=!0,t.go("Home")},s.login=function(){e.memebers=!1,t.go("Login")},s.compare=function(e){s.isconfirm=s.cpassword==e.password},s.onSubmit=function(){if(s.signUp.$valid){var e=s.register;r.register(e).then(function(e){1==e.status?(s.status=e.status,s.message=e.message,s.register={},s.signUp.$setPristine()):s.message="Invalid Credentials"},function(){window.alert("err")})}}}]);
app.controller("storycntrl",["$rootScope","$scope","$localStorage","localData","preService","PaginationService",function(o,e,t,r,n){var c={is_active:"1"};e.pager={},e.pageSize=6,o.selectedname="",e.convertToDate=function(o){var e=new Date(o);return e.setDate(e.getDate()),e},n.getStoryType(c).then(function(o){e.StoryTypes=o},function(){window.alert("err")}),e.selectedstory=function(e){o.selectedname=e.story_category_name,o.selectedid=e.story_category_id},n.getStories(c).then(function(o){e.Storys=o},function(){window.alert("err")}),e.showchanges=function(o){e.Storys[o].is_active?e.Storys[o].is_active=!1:e.Storys[o].is_active=!0}}]),app.controller("aboutCntrl",["$rootScope","$scope","$location","$anchorScroll",function(o,e,t,r){t.hash("aboutWing"),r()}]),app.controller("supportCntrl",["$rootScope","$scope","$location","$anchorScroll",function(o,e,t,r){t.hash("supportWing"),r()}]),app.controller("reciverCntrl",["$rootScope","$scope","$location","$anchorScroll",function(o,e,t,r){t.hash("receiveWing"),r()}]);
app.controller("testimonialmainCntrl",["$rootScope","$scope","$localStorage","localData","preService","PaginationService",function(e,i,a,o,t){var n={is_active:"1"};i.pager={},i.pageSize=6,t.getTestimonials(n).then(function(e){i.Testimonials=e},function(){window.alert("err")})}]);
app.controller("changePasswordCntrl",["$rootScope","$scope","$state","$localStorage","localData","preService","$timeout",function(e,s,o,a,t,n,r){s.changePassword={},e.session=t.get();var i=e.session,c=i.response_info[0];e.userType=c.role_id,e.username=c.first_name,s.message="",s.changePassword.email_id=localStorage.getItem("emailid"),s.submitForm=function(e){s.submitted=!0,n.changePassword(e).then(function(e){1==e.status&&(s.message=e.message,r(function(){o.go("Dashboard")},1e3))},function(){window.alert("err")})}}]);
app.controller("closedReqCntrl",function(e,t,n,a,o,s,r,i,d){function l(){t.setPage(1)}e.session=r.get();var g=e.session,u=g.response_info[0];e.userType=u.role_id,e.username=u.first_name,t.loading=!0,t.data={request_status:"Closed"},t.pager={},t.nodata="",i.allRequest(t.data).then(function(e){t.Stories=e;t.Stories.length;return 0==t.Stories.length?(t.loading=!1,void(t.nodata=!0)):(l(),void(t.nodata=!1))},function(){window.alert("err")}),t.setPage=function(e){1>e||e>t.pager.totalPages||(t.pager=d.pagination(t.Stories.length,e),t.items=t.Stories.slice(t.pager.startIndex,t.pager.endIndex+1),t.loading=!1)}});
app.controller("EventsCntrl",["$rootScope","$scope","$localStorage","localData","preService","$timeout","PaginationService",function(e,t,n,s,a,o,i){function r(){t.setPage(1)}e.session=s.get();var d=e.session,l=d.response_info[0];e.userType=l.role_id,e.username=l.first_name,t.Event={};var u={};t.pager={},t.loading=!0,t.nodata="",a.Eventget(u).then(function(e){return t.Events=e,0==t.Events.length?(t.loading=!1,void(t.nodata=!0)):(r(),void(t.nodata=!1))},function(){window.alert("err")}),t.setPage=function(e){1>e||e>t.pager.totalPages||(t.pager=i.pagination(t.Events.length,e),t.items=t.Events.slice(t.pager.startIndex,t.pager.endIndex+1),t.loading=!1)},t.addinfo=function(){t.Eventmodal="#Eventmodal",t.title="Add New",t.message="",t.Event=null,t.status=null,t.EventForm.$setPristine(),t.EventForm.$valid,t.onSubmit=function(){var n=t.Event,s=e.session,o=s.response_info[0],i=o.user_id;n.created_by=i,n.event_id="0";var d=n;a.Eventinsert(d).then(function(e){if(1==e.status){t.status=e.status,t.message="Inserted successfully",t.nodata=!1;var n={};a.Eventget(n).then(function(e){t.Events=e,r(),$("#Eventmodal").modal("hide")},function(){window.alert("err")})}else t.status=0,t.message=" Not Inserted "},function(){window.alert("err")})}},t.editInfo=function(n){t.Eventmodal="#Eventmodal",t.title="Edit",t.message="",t.status=null,t.Event=n,t.onSubmit=function(){var n=t.Event,s=e.session,o=s.response_info[0],i=o.user_id;n.created_by=i;var d=n;a.Eventinsert(d).then(function(e){if(1==e.status){t.status=e.status;var n={};t.message="Updated SuccessFully",a.Eventget(n).then(function(e){t.Events=e,r(),$("#Eventmodal").modal("hide")},function(){window.alert("err")})}else t.status=0,t.message=" Not Inserted "},function(){window.alert("err")})}}}]);
app.controller("incubationCenterCntrl",["$rootScope","$scope","$localStorage","localData","preService","$timeout","PaginationService",function(n,t,e,a,i,o,s){function c(){t.setPage(1)}n.session=a.get();var u=n.session,r=u.response_info[0];n.userType=r.role_id,n.username=r.first_name,t.Incubationdata={};var d={is_active:"1"};t.pager={},t.loading=!0,t.nodata="",i.getIncubations(d).then(function(n){return t.Incubations=n,0==t.Incubations.length?(t.loading=!1,void(t.nodata=!0)):(c(),void(t.nodata=!1))},function(){window.alert("err")}),t.setPage=function(n){1>n||n>t.pager.totalPages||(t.pager=s.pagination(t.Incubations.length,n),t.items=t.Incubations.slice(t.pager.startIndex,t.pager.endIndex+1),t.loading=!1)},i.getIncubationsTypes(d).then(function(n){t.IncubationsTypes=n},function(){window.alert("err")}),t.addinfo=function(){t.Incubationmodal="#Incubationmodal",t.title="Add New",t.message="",t.status=null,t.Incubationdata={},t.Incubation.$setPristine(),t.Incubation.$valid,t.onSubmit=function(){var e=t.Incubationdata,a=n.session,o=a.response_info[0],s=o.user_id;e.created_by=s,e.incubation_center_id="0",1==e.is_active||0!=e.is_active&&void 0!=e.is_active||(e.is_active="0");var u=e;i.addIncubations(u).then(function(n){if(1==n.status){t.status=n.status,t.message="Inserted successfully",t.nodata=!1;var e={is_active:"1"};i.getIncubations(e).then(function(n){t.Incubations=n,c(),$("#Incubationmodal").modal("hide")},function(){window.alert("err")})}else t.status=0,t.message=" Not Inserted "},function(){window.alert("err")})}},t.editInfo=function(e){t.Incubationmodal="#Incubationmodal",t.title="Edit",t.message="",t.status=null,t.Incubationdata=e,t.onSubmit=function(){var e=t.Incubationdata,a=n.session,o=a.response_info[0],s=o.user_id;e.created_by=s,1==e.is_active||0!=e.is_active&&void 0!=e.is_active||(e.is_active="0");var u=e;i.addIncubations(u).then(function(n){if(1==n.status){t.status=n.status;var e={is_active:"1"};t.message="Updated SuccessFully",i.getIncubations(e).then(function(n){t.Incubations=n,c(),$("#Incubationmodal").modal("hide")},function(){window.alert("err")})}else t.status=0,t.message=" Not Inserted "},function(){window.alert("err")})}},t.deleteInfo=function(e){var a=confirm("Want to Delete ?");if(1==a){t.Incubationdata=e;var o=t.Incubationdata,s=n.session,u=s.response_info[0],r=u.user_id;o.created_by=r,delete o.is_active,o.is_active="0";var d=o;i.addIncubations(d).then(function(n){if(1==n.status){var e={is_active:"1"};i.getIncubations(e).then(function(n){t.Incubations=n,c()},function(){window.alert("err")})}else window.alert("err")},function(){window.alert("err")})}}}]);
app.controller("incubationCenterCategoryCntrl",["$rootScope","$scope","$localStorage","localData","preService","$timeout","PaginationService",function(t,e,n,a,i,s,o){function c(){e.setPage(1)}t.session=a.get();var r=t.session,d=r.response_info[0];t.userType=d.role_id,t.username=d.first_name,e.IncubationTypesdata={};var u={is_active:"1"};e.pager={},e.loading=!0,e.nodata="",i.getIncubationsTypes(u).then(function(t){return e.IncbationTypes=t,0==e.IncbationTypes.length?(e.loading=!1,void(e.nodata=!0)):(c(),void(e.nodata=!1))},function(){window.alert("error")}),e.setPage=function(t){1>t||t>e.pager.totalPages||(e.pager=o.pagination(e.IncbationTypes.length,t),e.items=e.IncbationTypes.slice(e.pager.startIndex,e.pager.endIndex+1),e.loading=!1)},e.addinfo=function(){e.IncbationTypeModal="#IncbationTypeModal",e.title="Add New",e.message="",e.status=null,e.IncubationTypesdata=null,e.IncubationType.$setPristine(),e.IncubationType.$valid,e.onSubmit=function(){var n=e.IncubationTypesdata,a=t.session,s=a.response_info[0],o=s.user_id;n.created_by=o,n.story_category_id="0",1==n.is_active||0!=n.is_active&&void 0!=n.is_active||(n.is_active="0");var r=n;i.addIncubationsTypes(r).then(function(t){if(1==t.status){e.status=t.status,e.message="Inserted successfully",e.nodata=!1;var n={is_active:"1"};i.getIncubationsTypes(n).then(function(t){e.IncbationTypes=t,c(),$("#IncbationTypeModal").modal("hide")},function(){window.alert("err")})}else e.status=0,e.message=" Not Inserted "},function(){window.alert("err")})}},e.editInfo=function(t){e.IncbationTypeModal="#IncbationTypeModal",e.title="Edit",e.status=null,e.message="",e.IncubationTypesdata=t,e.onSubmit=function(){var t=e.IncubationTypesdata;1==t.is_active||0!=t.is_active&&void 0!=Eventdata.is_active||(t.is_active="0");var n=t;i.addIncubationsTypes(n).then(function(t){if(1==t.status){e.status=t.status,e.message="Updated SuccessFully";var n={is_active:"1"};i.getIncubationsTypes(n).then(function(t){e.IncbationTypes=t,c(),$("#IncbationTypeModal").modal("hide")},function(){window.alert("err")})}else e.status=0,e.message=" Not Inserted "},function(){window.alert("err")})}},e.deleteInfo=function(t){var n=confirm("Want to Delete ?");if(1==n){e.IncubationTypesdata=t;var a=e.IncubationTypesdata;delete a.is_active,a.is_active="0";var s=a;i.addIncubationsTypes(s).then(function(t){if(1==t.status){var n={is_active:"1"};i.getIncubationsTypes(n).then(function(t){e.IncbationTypes=t,c()},function(){window.alert("err")})}else window.alert("err")},function(){window.alert("err")})}}}]);
app.controller("dashboardcntrl",["$rootScope","$scope","$localStorage","localData","preService",function(e,o,r,s){e.session=s.get();var a=e.session,n=a.response_info[0];e.userType=n.role_id,e.username=n.first_name}]);
app.controller("OpportTypeCntrl",["$rootScope","$scope","$state","$http","httpService","$localStorage","localData","preService","PaginationService","$timeout",function(t,e,i,o,n,s,a,r,p){function u(){e.setPage(1)}t.session=a.get();var c=t.session,d=c.response_info[0];t.userType=d.role_id,t.username=d.first_name,e.opportunitytype={},e.data={},e.pager={},e.loading=!0,e.nodata="";var l={is_active:"1"};r.getAllOpp_categories(l).then(function(t){return e.OpportTypes=t,0==e.OpportTypes.length?(e.loading=!1,void(e.nodata=!0)):(u(),void(e.nodata=!1))},function(){window.alert("err")}),e.setPage=function(t){1>t||t>e.pager.totalPages||(e.pager=p.pagination(e.OpportTypes.length,t),e.items=e.OpportTypes.slice(e.pager.startIndex,e.pager.endIndex+1),e.loading=!1)},e.addinfo=function(){e.title="Add New",e.message="",e.opprtunitymodal="#opprtunityTypes",e.opportunitytype=null,e.status=null,e.OpportunityTypeForm.$setPristine(),e.OpportunityTypeForm.$valid,e.onSubmit=function(){var i=e.opportunitytype,o=t.session,n=o.response_info[0];n.user_id;1==i.is_active||0!=i.is_active&&void 0!=i.is_active||(i.is_active="0"),null==i.opportunity_category_id&&(i.opportunity_category_id="0"),r.addNewOpp_categories(i).then(function(t){if(1==t.status){e.status=t.status,e.message="Inserted successfully";var i={is_active:"1"};r.getAllOpp_categories(i).then(function(t){e.OpportTypes=t,e.nodata=!1,u(),$("#opprtunityTypes").modal("hide")},function(){window.alert("err")})}else e.status=0,e.message="Not Inserted"},function(){window.alert("err")})}},e.editInfo=function(i){e.opprtunitymodal="#opprtunityTypes",e.opportunitytype=i,e.title="Edit",e.status=null,e.message="",e.onSubmit=function(){var i=e.opportunitytype,o=t.session,n=o.response_info[0];n.user_id;1==i.is_active||0!=i.is_active&&void 0!=i.is_active||(i.is_active="0"),r.addNewOpp_categories(i).then(function(t){if(1==t.status){e.status=t.status,e.message="Updated SuccessFully";var i={is_active:"1"};r.getAllOpp_categories(i).then(function(t){e.OpportTypes=t,u(),$("#opprtunityTypes").modal("hide")},function(){window.alert("err")})}else e.status=0,e.message="Not Inserted"},function(){window.alert("err")})}},e.deleteInfo=function(t){var i=confirm("Want to Delete ?");if(1==i){e.Storiesdata=t;var o=e.Storiesdata;delete o.is_active,o.is_active="0";var n=o;r.addNewOpp_categories(n).then(function(t){if(1==t.status){var i={is_active:"1"};r.getAllOpp_categories(i).then(function(t){e.OpportTypes=t,u()},function(){window.alert("err")})}else window.alert("err")},function(){window.alert("err")})}}}]);
app.controller("OpportunitiesCntrl",["$rootScope","$scope","$state","$http","httpService","$localStorage","localData","preService","PaginationService","$timeout",function(t,e,i,n,o,s,a,r,p){function u(){e.setPage(1)}t.session=a.get();var d=t.session,l=d.response_info[0];t.userType=l.role_id,t.username=l.first_name,e.opportunity={};var c={is_active:"1"};e.pager={},e.loading=!0,e.nodata="",r.allOpportunities(c).then(function(t){return e.Opportunities=t,0==e.Opportunities.length?(e.loading=!1,void(e.nodata=!0)):(u(),void(e.nodata=!1))},function(){window.alert("err")}),e.setPage=function(t){1>t||t>e.pager.totalPages||(e.pager=p.pagination(e.Opportunities.length,t),e.items=e.Opportunities.slice(e.pager.startIndex,e.pager.endIndex+1),e.loading=!1)},r.getAllOpp_categories(c).then(function(t){e.OpportTypes=t},function(){window.alert("err")}),e.addinfo=function(){e.title="Add New",e.message="",e.opprtunitymodal="#opprtunitymodal",e.opportunity=null,e.status=null,e.opportunityform.$setPristine(),e.opportunityform.$valid,e.onSubmit=function(){e.submitted=!0;var i=e.opportunity,n=t.session,o=n.response_info[0],s=o.user_id;i.created_by=s,1==i.is_active||0!=i.is_active&&void 0!=i.is_active||(i.is_active="0"),null==i.opportunity_id&&(i.opportunity_id="0"),r.addORUpdateOpp(i).then(function(t){if(1==t.status){e.status=t.status,e.message="Inserted successfully";var i={is_active:"1"};r.allOpportunities(i).then(function(t){e.Opportunities=t,e.nodata=!1,u(),$("#opprtunitymodal").modal("hide")},function(){window.alert("err")})}else e.status=0,e.message="Not Inserted"},function(){window.alert("err")})}},e.editInfo=function(i){e.opprtunitymodal="#opprtunitymodal",e.title="Edit",e.opportunity=i,e.message="",e.status=null,e.onSubmit=function(){e.submitted=!0;var i=e.opportunity,n=t.session,o=n.response_info[0],s=o.user_id;i.created_by=s,1==i.is_active||0!=i.is_active&&void 0!=i.is_active||(i.is_active="0"),r.addORUpdateOpp(i).then(function(t){if(1==t.status){e.status=t.status,e.message="Updated Successfully";var i={is_active:"1"};r.allOpportunities(i).then(function(t){e.Opportunities=t,u(),$("#opprtunitymodal").modal("hide")},function(){window.alert("err")})}else e.status=0,e.message="Not Inserted"},function(){window.alert("err")})}},e.deleteInfo=function(i){var n=confirm("Want to Delete ?");if(1==n){e.Storiesdata=i;var o=e.Storiesdata,s=t.session,a=s.response_info[0],p=a.user_id;o.created_by=p,delete o.is_active,o.is_active="0";var d=o;r.addORUpdateOpp(d).then(function(t){if(1==t.status){var i={is_active:"1"};r.allOpportunities(i).then(function(t){e.Opportunities=t,u()},function(){window.alert("err")})}else window.alert("err")},function(){window.alert("err")})}}}]);
app.controller("seekingforHelpCntrl",["$rootScope","$scope","$state","$http","httpService","$localStorage","localData","preService","PaginationService","$timeout",function(e,t,n,r,i,s,a,o,u){function l(){t.setPage(1)}e.session=a.get();var d=e.session,c=d.response_info[0];e.userType=c.role_id,e.username=c.first_name,t.commentdata={},t.request={};var f={receiver_id:c.user_id};t.pager={},t.loading=!0,t.convertToDate=function(e){var t=new Date(e);return t.setDate(t.getDate()),t},o.allRequest(f).then(function(e){t.viewallrequets=e,l()},function(){window.alert("err")}),t.setPage=function(e){1>e||e>t.pager.totalPages||(t.pager=u.pagination(t.viewallrequets.length,e),t.items=t.viewallrequets.slice(t.pager.startIndex,t.pager.endIndex+1),t.loading=!1)},o.getAllOpp_categories().then(function(e){t.OpportTypes=e},function(){window.alert("err")}),t.addinfo=function(){t.seekingforhelp="#seekingforhelp",t.selectdata=!1,t.message="",t.title="Add new",t.request=null,t.seekingforhelpform.$setPristine(),t.seekingforhelpform.$valid,t.onSubmit=function(){var n=t.request,r=e.session,i=r.response_info[0];i.user_id;n.receiver_id=i.user_id,n.request_id=0,n.receiver=i.first_name,n.request_status="open";var s=n;o.addOrUp_Request(s).then(function(e){if(1==e.status){t.message="Inserted successfully";var n={receiver_id:i.user_id};o.allRequest(n).then(function(e){t.viewallrequets=e,l(),$("#seekingforhelp").modal("hide")},function(){window.alert("err")})}else window.alert("err")},function(){window.alert("err")})}},t.editInfo=function(n){t.seekingforhelp="#seekingforhelp",t.selectdata=!0,t.title="Edit",t.message="",t.request=n,t.onSubmit=function(){var n=t.request,r=e.session,i=r.response_info[0],s=i.user_id;n.reciver_id=s;var a=n;o.addOrUp_Request(a).then(function(e){if(1==e.status){t.status=e.status,t.message="Updated SuccessFully";var n={receiver_id:i.user_id};o.allRequest(n).then(function(e){t.viewallrequets=e,l(),$("#seekingforhelp").modal("hide")},function(){window.alert("err")})}else window.alert("err"),t.message="Invalid Data"},function(){window.alert("err")})}},t.comment=function(e){t.commentmodel="#commentmodel",t.loading1=!0,t.message="",t.commentdata=null;var n={helper_request_id:e.request_id};o.takeupcomments(n).then(function(e){t.takeupcomments=e,t.loading1=!1},function(){window.alert("err")}),t.onSubmit=function(){var n=t.commentdata,r=e;n.helper_request_id=r.request_id,n.takeup_status=r.request_status,n.takeup_id=r.takeup_id,n.helper_id="3",n.created_by="3";var i=n;o.addtakeupproblem(i).then(function(e){if(1==e.status){t.message="Inserted successfully";var n={helper_request_id:r.request_id};o.takeupcomments(n).then(function(e){t.takeupcomments=e,l()},function(){window.alert("err")})}else window.alert("err")},function(){window.alert("err")})}}}]);
app.controller("StoriesCntrl",["$rootScope","$scope","$localStorage","localData","preService","$timeout","PaginationService",function(t,e,i,o,s,a,n){function r(){e.setPage(1)}t.session=o.get();var d=t.session,c=d.response_info[0];t.userType=c.role_id,t.username=c.first_name,e.Storiesdata={};var u={is_active:"1"};e.pager={},e.loading=!0,e.nodata="",s.getStories(u).then(function(t){return e.Stories=t,0==e.Stories.length?(e.loading=!1,void(e.nodata=!0)):(r(),void(e.nodata=!1))},function(){window.alert("err")}),e.setPage=function(t){1>t||t>e.pager.totalPages||(e.pager=n.pagination(e.Stories.length,t),e.items=e.Stories.slice(e.pager.startIndex,e.pager.endIndex+1),e.loading=!1)},s.getStoryType(u).then(function(t){e.Stories_category=t},function(){window.alert("err")}),e.addinfo=function(){e.Storymodal="#Storymodal",e.title="Add New",e.status=null,e.message="",e.Storiesdata={},e.Story.$setPristine(),e.Story.$valid,e.onSubmit=function(){var i=e.Storiesdata,o=t.session,a=o.response_info[0],n=a.user_id;i.created_by=n,i.story_id="0",1==i.is_active||0!=i.is_active&&void 0!=i.is_active||(i.is_active="0");var d=i;s.insertStory(d).then(function(t){if(1==t.status){e.status=t.status,e.message="Inserted successfully",e.nodata=!1;var i={is_active:"1"};s.getStories(i).then(function(t){e.Stories=t,r(),$("#Storymodal").modal("hide")},function(){window.alert("err")})}else e.status=0,e.message="Not Inserted"},function(){window.alert("err")})}},e.editInfo=function(i){e.Storymodal="#Storymodal",e.title="Edit",e.message="",e.status=null,e.Storiesdata=i,e.onSubmit=function(){var i=e.Storiesdata,o=t.session,a=o.response_info[0],n=a.user_id;i.created_by=n,1==i.is_active||0!=i.is_active&&void 0!=i.is_active||(i.is_active="0");var d=i;s.insertStory(d).then(function(t){if(1==t.status){e.status=t.status;var i={is_active:"1"};e.message="Updated SuccessFully",s.getStories(i).then(function(t){e.Stories=t,r(),$("#Storymodal").modal("hide")},function(){window.alert("err")})}else e.status=0,e.message="Not Inserted"},function(){window.alert("err")})}},e.deleteInfo=function(i){var o=confirm("Want to Delete ?");if(1==o){e.Storiesdata=i;var a=e.Storiesdata,n=t.session,d=n.response_info[0],c=d.user_id;a.created_by=c,delete a.is_active,a.is_active="0";var u=a;s.insertStory(u).then(function(t){if(1==t.status){var i={is_active:"1"};s.getStories(i).then(function(t){e.Stories=t,r()},function(){window.alert("err")})}else window.alert("err")},function(){window.alert("err")})}}}]);
app.controller("StorysTypesCntrl",["$rootScope","$scope","$localStorage","localData","preService","$timeout","PaginationService",function(e,t,s,i,o,a,n){function r(){t.setPage(1)}e.session=i.get();var d=e.session,y=d.response_info[0];e.userType=y.role_id,e.username=y.first_name,t.StorysTypesdata={};var c={is_active:"1"};t.pager={},t.loading=!0,t.nodata="",o.getStoryType(c).then(function(e){return t.storiesTypes=e,0==t.storiesTypes.length?(t.loading=!1,void(t.nodata=!0)):(r(),void(t.nodata=!1))},function(){window.alert("error")}),t.setPage=function(e){1>e||e>t.pager.totalPages||(t.pager=n.pagination(t.storiesTypes.length,e),t.items=t.storiesTypes.slice(t.pager.startIndex,t.pager.endIndex+1),t.loading=!1)},t.addinfo=function(){t.StoryTypeModal="#StoryTypeModal",t.title="Add New ",t.status=null,t.message="",t.StorysTypesdata=null,t.StoryType.$setPristine(),t.StoryType.$valid,t.onSubmit=function(){var s=t.StorysTypesdata,i=e.session,a=i.response_info[0],n=a.user_id;s.created_by=n,s.story_category_id="0",1==s.is_active||0!=s.is_active&&void 0!=s.is_active||(s.is_active="0");var d=s;o.insertStoryType(d).then(function(e){if(1==e.status){t.status=e.status,t.message="Inserted successfully",t.nodata=!1;var s={is_active:"1"};o.getStoryType(s).then(function(e){t.storiesTypes=e,r(),$("#StoryTypeModal").modal("hide")},function(){window.alert("err")})}else t.status=0,t.message="Not Inserted"},function(){window.alert("err")})}},t.editInfo=function(s){t.StoryTypeModal="#StoryTypeModal",t.title="Edit",t.message="",t.status=null,t.StorysTypesdata=s,t.onSubmit=function(){var s=t.StorysTypesdata,i=e.session,a=i.response_info[0],n=a.user_id;s.created_by=n,1==s.is_active||0!=s.is_active&&void 0!=s.is_active||(s.is_active="0");var d=s;o.insertStoryType(d).then(function(e){if(1==e.status){t.status=e.status,t.message="Updated SuccessFully";var s={is_active:"1"};o.getStoryType(s).then(function(e){t.storiesTypes=e,r(),$("#StoryTypeModal").modal("hide")},function(){window.alert("err")})}else t.status=0,t.message="Not Inserted "},function(){window.alert("err")})}},t.deleteInfo=function(s){var i=confirm("Want to Delete ?");if(1==i){t.Storiesdata=s;var a=t.Storiesdata,n=e.session,d=n.response_info[0],y=d.user_id;a.created_by=y,delete a.is_active,a.is_active="0";var c=a;o.insertStoryType(c).then(function(e){if(1==e.status){var s={is_active:"1"};o.getStoryType(s).then(function(e){t.storiesTypes=e,r()},function(){window.alert("err")})}else window.alert("err")},function(){window.alert("err")})}}}]);
app.controller("TestimonialsCntrl",["$rootScope","$scope","$state","$http","httpService","$localStorage","localData","preService","PaginationService","$timeout",function(t,e,i,s,n,a,o,l,r){function d(){e.setPage(1)}t.session=o.get();var c=t.session,u=c.response_info[0];t.userType=u.role_id,t.username=u.first_name,e.letterLimit=18,e.testimonial={},e.loading=!0,e.pager={},e.nodata="";var m={is_active:"1"};l.getTestimonials(m).then(function(t){return e.testimonials=t,0==e.testimonials.length?(e.loading=!1,void(e.nodata=!0)):(d(),void(e.nodata=!1))},function(){window.alert("err")}),e.setPage=function(t){1>t||t>e.pager.totalPages||(e.pager=r.pagination(e.testimonials.length,t),e.items=e.testimonials.slice(e.pager.startIndex,e.pager.endIndex+1),e.loading=!1)},e.addinfo=function(){e.TestimonialModal="#TestimonialModal",e.title="Add New",e.message="",e.status=null,e.testimonial=null,e.testimonialform.$setPristine(),e.testimonialform.$valid,e.onSubmit=function(){var i=e.testimonial,s=t.session,n=s.response_info[0];n.user_id;i.testimonial_id="0",1==i.is_active||0!=i.is_active&&void 0!=i.is_active||(i.is_active="0"),l.addOrUp_Testimonials(i).then(function(t){if(1==t.status){e.status=t.status,e.message="Inserted successfully";var i={is_active:"1"};e.nodata=!1,l.getTestimonials(i).then(function(t){e.testimonials=t,d(),$("#TestimonialModal").modal("hide")},function(){window.alert("err")})}else e.status=0,e.message=" Not Inserted "},function(){window.alert("err")})}},e.editInfo=function(i){e.TestimonialModal="#TestimonialModal",e.title="Edit",e.message="",e.status=null,e.testimonial=i,e.onSubmit=function(){var i=e.testimonial,s=t.session,n=s.response_info[0];n.user_id;1==i.is_active||0!=i.is_active&&void 0!=i.is_active||(i.is_active="0"),l.addOrUp_Testimonials(i).then(function(t){if(1==t.status){e.status=t.status;var i={is_active:"1"};e.message="Updated SuccessFully",l.getTestimonials(i).then(function(t){e.testimonials=t,d(),$("#TestimonialModal").modal("hide")},function(){window.alert("err")})}else e.status=0,e.message=" Not Inserted "},function(){window.alert("err")})}},e.deleteInfo=function(t){var i=confirm("Want to Delete ?");if(1==i){e.Storiesdata=t;var s=e.Storiesdata;delete s.is_active,s.is_active="0";var n=s;l.addOrUp_Testimonials(n).then(function(t){if(1==t.status){var i={is_active:"1"};l.getTestimonials(i).then(function(t){e.testimonials=t,d()},function(){window.alert("err")})}else window.alert("err")},function(){window.alert("err")})}},e.DescInfo=function(t){e.DescModal="#DescModal",e.descripton=t}}]);
app.controller("UsersCntrl",["$rootScope","$scope","$state","$http","httpService","$localStorage","localData","preService","PaginationService",function(e,s,t,n,r,a,i,o,u){function d(){s.setPage(1)}e.session=i.get();var l=e.session,c=l.response_info[0];e.userType=c.role_id,e.username=c.first_name,s.nodata="",s.register={};var g={};s.pager={},s.loading=!0,o.getUsers(g).then(function(e){return s.Users=e,0==s.Users.length?(s.loading=!1,void(s.nodata=!0)):(d(),void(s.nodata=!1))},function(){window.alert("err")}),s.setPage=function(e){1>e||e>s.pager.totalPages||(s.pager=u.pagination(s.Users.length,e),s.items=s.Users.slice(s.pager.startIndex,s.pager.endIndex+1),s.loading=!1)},s.addinfo=function(){s.usermodal="#usermodal",s.title="Add New staff",s.staff=!0,s.message="",s.status=null,s.register=null,s.signUp.$setPristine(),s.signUp.$valid,s.onSubmit=function(){var t=s.register;1==t.is_active?(delete t.is_active,t.is_active="1"):t.is_active="0";var n=e.session,r=n.response_info[0],a=r.user_id;t.created_by=a,t.role_id="4";var i=t;o.register(i).then(function(e){if(1==e.status){s.status=e.status,s.message="Inserted successfully",s.nodata=!1;var t={};o.getUsers(t).then(function(e){s.Users=e,d(),$("#usermodal").modal("hide")},function(){window.alert("err")})}else s.status=0,s.message=" Not Inserted "},function(){window.alert("err")})}},s.editInfo=function(t){s.usermodal="#usermodal",s.title="Edit Register",s.staff=!1,s.message="",s.status=null,s.register=t,s.onSubmit=function(){var t=s.register,n=e.session,r=n.response_info[0],a=r.user_id;t.created_by=a;var i=t;o.edituser(i).then(function(e){if(1==e.status){s.status=e.status,s.message="Updated SuccessFully";var t={};o.getUsers(t).then(function(e){s.Users=e,d(),$("#usermodal").modal("hide")},function(){window.alert("err")})}else s.status=0,s.message=" Not Inserted "},function(){window.alert("err")})}}}]);
app.controller("viewAllReqCntrl",["$rootScope","$scope","$state","$http","httpService","$localStorage","localData","preService","PaginationService","$timeout",function(e,t,a,n,r,o,i,s,u){function l(){t.setPage(1)}e.session=i.get();var d=e.session,p=d.response_info[0];e.userType=p.role_id,e.username=p.first_name,t.takeupdata={};var c={};t.pager={},t.loading=!0,t.nodata="",t.convertToDate=function(e){var t=new Date(e);return t.setDate(t.getDate()),t},s.allRequest(c).then(function(e){return t.viewallrequets=e,0==t.viewallrequets.length?(t.loading=!1,void(t.nodata=!0)):(l(),void(t.nodata=!1))},function(){window.alert("err")}),t.setPage=function(e){1>e||e>t.pager.totalPages||(t.pager=u.pagination(t.viewallrequets.length,e),t.items=t.viewallrequets.slice(t.pager.startIndex,t.pager.endIndex+1),t.loading=!1)},t.takeupcomment=function(a){t.takeupmodalModal="#takeupmodalModal",t.loading1=!0,t.message="",t.takeupdata=null;var n={helper_request_id:a.request_id};s.takeupcomments(n).then(function(e){t.takeupcomments=e,t.loading1=!1},function(){window.alert("err")}),t.onSubmit=function(){var n=t.takeupdata,r=e.session,o=r.response_info[0],i=o.user_id,u=a;n.helper_request_id=u.request_id,n.takeup_status=u.request_status,n.takeup_id="0",n.helper_id=i,n.created_by=i;var d=n;s.addtakeupproblem(d).then(function(e){if(1==e.status){t.message="Inserted successfully";var a={helper_request_id:u.request_id};s.takeupcomments(a).then(function(e){t.takeupcomments=e,l()},function(){window.alert("err")})}else window.alert("err")},function(){window.alert("err")})}}}]);
app.controller("viewMyReqCntrl",["$rootScope","$scope","$state","$http","httpService","$localStorage","localData","preService","PaginationService","$timeout",function(e,o,t,r,i,a,n){e.session=n.get();var s=e.session,c=s.response_info[0];e.userType=c.role_id,e.username=c.first_name,o.loading=!0}]);
app.controller("viewPendingReqCntrl",["$rootScope","$scope","$state","$http","httpService","$localStorage","localData","preService","PaginationService","$timeout",function(e,t,a,n,o,i,r,s,g){function l(){t.setPage(1)}e.session=r.get();var d=e.session,p=d.response_info[0];e.userType=p.role_id,e.username=p.first_name,t.loading=!0,t.data={},t.pager={},t.nodata="",s.allRequest(t.data).then(function(e){t.Stories=e;t.Stories.length;return 0==t.Stories.length?(t.loading=!1,void(t.nodata=!0)):(l(),void(t.nodata=!1))},function(){window.alert("err")}),t.setPage=function(e){1>e||e>t.pager.totalPages||(t.pager=g.pagination(t.Stories.length,e),t.items=t.Stories.slice(t.pager.startIndex,t.pager.endIndex+1),t.loading=!1)}}]);
